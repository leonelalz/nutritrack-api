{
	"info": {
		"_postman_id": "modulo5-seguimiento-uuid",
		"name": "Módulo 5 - Seguimiento y Asignaciones",
		"description": "Colección para probar las funcionalidades del Módulo 5: Asignación de planes y rutinas a usuarios, registro de comidas y ejercicios, y consulta de estadísticas",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "0. Autenticación",
			"item": [
				{
					"name": "Login Usuario Regular",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set(\"userToken\", jsonData.token);",
									"    pm.collectionVariables.set(\"userId\", jsonData.userId);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"usuario@nutritrack.com\",\n    \"password\": \"password123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/login",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "login"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "1. Asignar Planes",
			"item": [
				{
					"name": "Asignar Plan Nutricional",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set(\"usuarioPlanId\", jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"planId\": 1,\n    \"fechaInicio\": \"2025-11-03\",\n    \"notas\": \"Plan de pérdida de peso - 30 días\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/usuario/planes",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "planes"]
						}
					},
					"response": []
				},
				{
					"name": "Listar Planes Activos",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/usuario/planes/activos",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "planes", "activos"]
						}
					},
					"response": []
				},
				{
					"name": "Obtener Detalle de Plan Asignado",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/usuario/planes/{{usuarioPlanId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "planes", "{{usuarioPlanId}}"]
						}
					},
					"response": []
				},
				{
					"name": "Avanzar Día en Plan",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/usuario/planes/{{usuarioPlanId}}/avanzar-dia",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "planes", "{{usuarioPlanId}}", "avanzar-dia"]
						}
					},
					"response": []
				},
				{
					"name": "Completar Plan",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/usuario/planes/{{usuarioPlanId}}/completar",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "planes", "{{usuarioPlanId}}", "completar"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "2. Asignar Rutinas",
			"item": [
				{
					"name": "Asignar Rutina de Ejercicio",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set(\"usuarioRutinaId\", jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"rutinaId\": 1,\n    \"fechaInicio\": \"2025-11-03\",\n    \"notas\": \"Rutina de hipertrofia - 12 semanas\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/usuario/rutinas",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "rutinas"]
						}
					},
					"response": []
				},
				{
					"name": "Listar Rutinas Activas",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/usuario/rutinas/activos",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "rutinas", "activos"]
						}
					},
					"response": []
				},
				{
					"name": "Obtener Detalle de Rutina Asignada",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/usuario/rutinas/{{usuarioRutinaId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "rutinas", "{{usuarioRutinaId}}"]
						}
					},
					"response": []
				},
				{
					"name": "Avanzar Semana en Rutina",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/usuario/rutinas/{{usuarioRutinaId}}/avanzar-semana",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "rutinas", "{{usuarioRutinaId}}", "avanzar-semana"]
						}
					},
					"response": []
				},
				{
					"name": "Cancelar Rutina",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/usuario/rutinas/{{usuarioRutinaId}}/cancelar",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "rutinas", "{{usuarioRutinaId}}", "cancelar"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "3. Registrar Comidas",
			"item": [
				{
					"name": "Registrar Desayuno",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set(\"registroComidaId\", jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"comidaId\": 1,\n    \"usuarioPlanId\": {{usuarioPlanId}},\n    \"fecha\": \"2025-11-03\",\n    \"hora\": \"08:30:00\",\n    \"tipoComida\": \"DESAYUNO\",\n    \"porciones\": 1.0,\n    \"notas\": \"Desayuno completo\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/usuario/registros/comidas",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "registros", "comidas"]
						}
					},
					"response": []
				},
				{
					"name": "Registrar Almuerzo (1.5 porciones)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"comidaId\": 2,\n    \"usuarioPlanId\": {{usuarioPlanId}},\n    \"fecha\": \"2025-11-03\",\n    \"hora\": \"13:00:00\",\n    \"tipoComida\": \"ALMUERZO\",\n    \"porciones\": 1.5,\n    \"notas\": \"Porción extra de proteína\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/usuario/registros/comidas",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "registros", "comidas"]
						}
					},
					"response": []
				},
				{
					"name": "Listar Comidas de Hoy",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/usuario/registros/comidas?fecha=2025-11-03",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "registros", "comidas"],
							"query": [
								{
									"key": "fecha",
									"value": "2025-11-03"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Listar Comidas por Período",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/usuario/registros/comidas?fechaInicio=2025-11-01&fechaFin=2025-11-07",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "registros", "comidas"],
							"query": [
								{
									"key": "fechaInicio",
									"value": "2025-11-01"
								},
								{
									"key": "fechaFin",
									"value": "2025-11-07"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Eliminar Registro de Comida",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/usuario/registros/comidas/{{registroComidaId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "registros", "comidas", "{{registroComidaId}}"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "4. Registrar Ejercicios",
			"item": [
				{
					"name": "Registrar Sentadillas",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set(\"registroEjercicioId\", jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"ejercicioId\": 1,\n    \"usuarioRutinaId\": {{usuarioRutinaId}},\n    \"fecha\": \"2025-11-03\",\n    \"hora\": \"17:00:00\",\n    \"seriesRealizadas\": 4,\n    \"repeticionesRealizadas\": 12,\n    \"pesoUtilizado\": 80.00,\n    \"duracionMinutos\": 25,\n    \"notas\": \"Buena técnica, sin dolor\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/usuario/registros/ejercicios",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "registros", "ejercicios"]
						}
					},
					"response": []
				},
				{
					"name": "Registrar Press Banca",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"ejercicioId\": 2,\n    \"usuarioRutinaId\": {{usuarioRutinaId}},\n    \"fecha\": \"2025-11-03\",\n    \"hora\": \"17:30:00\",\n    \"seriesRealizadas\": 3,\n    \"repeticionesRealizadas\": 10,\n    \"pesoUtilizado\": 60.00,\n    \"duracionMinutos\": 20,\n    \"notas\": \"Necesito subir peso la próxima vez\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/usuario/registros/ejercicios",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "registros", "ejercicios"]
						}
					},
					"response": []
				},
				{
					"name": "Registrar Cardio sin Rutina",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"ejercicioId\": 3,\n    \"fecha\": \"2025-11-03\",\n    \"hora\": \"18:00:00\",\n    \"duracionMinutos\": 30,\n    \"notas\": \"Cardio ligero post-entrenamiento\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/usuario/registros/ejercicios",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "registros", "ejercicios"]
						}
					},
					"response": []
				},
				{
					"name": "Listar Ejercicios de Hoy",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/usuario/registros/ejercicios?fecha=2025-11-03",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "registros", "ejercicios"],
							"query": [
								{
									"key": "fecha",
									"value": "2025-11-03"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Listar Ejercicios por Período",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/usuario/registros/ejercicios?fechaInicio=2025-11-01&fechaFin=2025-11-07",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "registros", "ejercicios"],
							"query": [
								{
									"key": "fechaInicio",
									"value": "2025-11-01"
								},
								{
									"key": "fechaFin",
									"value": "2025-11-07"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Eliminar Registro de Ejercicio",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/usuario/registros/ejercicios/{{registroEjercicioId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "registros", "ejercicios", "{{registroEjercicioId}}"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "5. Estadísticas",
			"item": [
				{
					"name": "Estadísticas de Nutrición (Semanal)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/usuario/registros/comidas/estadisticas?fechaInicio=2025-11-01&fechaFin=2025-11-07",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "registros", "comidas", "estadisticas"],
							"query": [
								{
									"key": "fechaInicio",
									"value": "2025-11-01"
								},
								{
									"key": "fechaFin",
									"value": "2025-11-07"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Estadísticas de Nutrición (Mensual)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/usuario/registros/comidas/estadisticas?fechaInicio=2025-11-01&fechaFin=2025-11-30",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "registros", "comidas", "estadisticas"],
							"query": [
								{
									"key": "fechaInicio",
									"value": "2025-11-01"
								},
								{
									"key": "fechaFin",
									"value": "2025-11-30"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Estadísticas de Ejercicio (Semanal)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/usuario/registros/ejercicios/estadisticas?fechaInicio=2025-11-01&fechaFin=2025-11-07",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "registros", "ejercicios", "estadisticas"],
							"query": [
								{
									"key": "fechaInicio",
									"value": "2025-11-01"
								},
								{
									"key": "fechaFin",
									"value": "2025-11-07"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Estadísticas de Ejercicio (Mensual)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{userToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/usuario/registros/ejercicios/estadisticas?fechaInicio=2025-11-01&fechaFin=2025-11-30",
							"host": ["{{baseUrl}}"],
							"path": ["api", "usuario", "registros", "ejercicios", "estadisticas"],
							"query": [
								{
									"key": "fechaInicio",
									"value": "2025-11-01"
								},
								{
									"key": "fechaFin",
									"value": "2025-11-30"
								}
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "userToken",
			"value": "",
			"type": "string"
		},
		{
			"key": "userId",
			"value": "",
			"type": "string"
		},
		{
			"key": "usuarioPlanId",
			"value": "",
			"type": "string"
		},
		{
			"key": "usuarioRutinaId",
			"value": "",
			"type": "string"
		},
		{
			"key": "registroComidaId",
			"value": "",
			"type": "string"
		},
		{
			"key": "registroEjercicioId",
			"value": "",
			"type": "string"
		}
	]
}
